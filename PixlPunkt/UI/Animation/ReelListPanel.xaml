<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="PixlPunkt.UI.Animation.ReelListPanel"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ic="using:FluentIcons.WinUI">

    <Grid Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" 
                Padding="8,6"
                Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,0,0,1">
            <TextBlock Text="Animations" 
                       FontWeight="SemiBold"
                       FontSize="12"/>
        </Border>

        <!-- Reel List -->
        <ListView x:Name="ReelListView"
                  Grid.Row="1"
                  SelectionMode="Single"
                  SelectionChanged="ReelListView_SelectionChanged"
                  Padding="4">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Grid Padding="4,2" ColumnSpacing="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="{Binding Name}" 
                                   VerticalAlignment="Center"
                                   TextTrimming="CharacterEllipsis"/>

                        <Button Grid.Column="1"
                                Padding="2"
                                Background="Transparent"
                                Click="ReelSettings_Click"
                                Tag="{Binding}"
                                ToolTipService.ToolTip="Reel settings">
                            <ic:FluentIcon Icon="Settings" FontSize="12"/>
                        </Button>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <!-- Footer buttons -->
        <Border Grid.Row="2"
                Padding="4"
                Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" Spacing="4">
                <Button x:Name="AddButton"
                        Click="AddButton_Click"
                        Padding="4"
                        ToolTipService.ToolTip="Add new animation">
                    <ic:FluentIcon Icon="Add" FontSize="14"/>
                </Button>
                <Button x:Name="DeleteButton"
                        Click="DeleteButton_Click"
                        Padding="4"
                        ToolTipService.ToolTip="Delete selected animation"
                        IsEnabled="False">
                    <ic:FluentIcon Icon="Delete" FontSize="14"/>
                </Button>
                <Button x:Name="DuplicateButton"
                        Click="DuplicateButton_Click"
                        Padding="4"
                        ToolTipService.ToolTip="Duplicate selected animation"
                        IsEnabled="False">
                    <ic:FluentIcon Icon="Copy" FontSize="14"/>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
