<?xml version="1.0" encoding="utf-8"?>
<!--
═══════════════════════════════════════════════════════════════════════════════
  APP.XAML - Application Resources & Styles
═══════════════════════════════════════════════════════════════════════════════
  Defines global application resources, merged dictionaries, and shared styles
  used throughout the PixlPunkt application.
═══════════════════════════════════════════════════════════════════════════════
-->
<Application
    x:Class="PixlPunkt.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PixlPunkt"
    xmlns:ctk="using:CommunityToolkit.WinUI.Controls"
    xmlns:ic="using:FluentIcons.WinUI"
    xmlns:conv="using:PixlPunkt.UI.Converters">

    <Application.Resources>
        
        <ResourceDictionary>
            
            <conv:UIntToBrushConverter x:Key="UIntToBrushConverter"/>
            <!-- ═══════════════════════════════════════════════════════════ -->
            <!-- BUTTON STYLES -->
            <!-- ═══════════════════════════════════════════════════════════ -->

            <!-- Header Icon Button: Small, square buttons for header toolbar -->
            <Style x:Key="HeaderIconButton" TargetType="Button">
                <Setter Property="Width" Value="28"/>
                <Setter Property="Height" Value="28"/>
                <Setter Property="Padding" Value="0"/>
                <Setter Property="Margin" Value="4,0,0,0"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Background" Value="{ThemeResource ControlFillColorDefaultBrush}"/>
                <Setter Property="BorderBrush" Value="{ThemeResource ControlStrokeColorDefaultBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Foreground" Value="{ThemeResource TextFillColorPrimaryBrush}"/>
                <Setter Property="CornerRadius" Value="6"/>
            </Style>

            <!-- ═══════════════════════════════════════════════════════════ -->
            <!-- SPLITTER STYLES -->
            <!-- ═══════════════════════════════════════════════════════════ -->
            <Style x:Key="RailSplitterStyleVertical" TargetType="ctk:GridSplitter">
                <Setter Property="ResizeDirection" Value="Rows"/>
                <Setter Property="ResizeBehavior" Value="PreviousAndNext"/>
                <Setter Property="VerticalAlignment" Value="Stretch"/>

                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ctk:GridSplitter">
                            <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
                                <!-- Faint outline to separate cards -->
                                <Rectangle Fill="{ThemeResource LayerFillColorDefaultBrush}"/>
                                <!-- Centered pill-shaped grip indicator -->
                                <Border 
                        Width="2" 
                        Height="40" 
                        CornerRadius="1" 
                        Background="{ThemeResource ControlStrongFillColorDefaultBrush}"
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Center"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <!-- Rail Splitter: Resizable grid divider with centered grip -->
            <Style x:Key="RailSplitterStyleHorizontal" TargetType="ctk:GridSplitter">
                <Setter Property="ResizeDirection" Value="Rows"/>
                <Setter Property="ResizeBehavior" Value="PreviousAndNext"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="Height" Value="6"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ctk:GridSplitter">
                            <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
                                <!-- Faint outline to separate cards -->
                                <Rectangle Fill="{ThemeResource LayerFillColorDefaultBrush}"/>
                                <!-- Centered pill-shaped grip indicator -->
                                <Border 
                                    Width="40" 
                                    Height="2" 
                                    CornerRadius="1" 
                                    Background="{ThemeResource ControlStrongFillColorDefaultBrush}"
                                    HorizontalAlignment="Center" 
                                    VerticalAlignment="Center"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══════════════════════════════════════════════════════════ -->
            <!-- FLYOUT STYLES -->
            <!-- ═══════════════════════════════════════════════════════════ -->

            <!-- Picker Flyout: Modern flyout styling for color pickers -->
            <Style x:Key="PickerFlyoutPresenterStyle" TargetType="FlyoutPresenter">
                <Setter Property="Padding" Value="16"/>
                <Setter Property="CornerRadius" Value="12"/>
                <Setter Property="Background" Value="{ThemeResource SolidBackgroundFillColorBaseBrush}"/>
                <Setter Property="BorderBrush" Value="{ThemeResource CardStrokeColorDefaultBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Shadow">
                    <Setter.Value>
                        <ThemeShadow/>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══════════════════════════════════════════════════════════ -->
            <!-- ICON STYLES -->
            <!-- ═══════════════════════════════════════════════════════════ -->

            <!-- Tool Rail Icon: Base style for toolbar icons (Regular variant) -->
            <Style x:Key="ToolRailIcon" TargetType="ic:FluentIcon">
                <Setter Property="IconVariant" Value="Regular"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
            </Style>

            <!-- Tool Rail Icon Active: Filled variant for selected/active state -->
            <Style x:Key="ToolRailIconActive" TargetType="ic:FluentIcon" BasedOn="{StaticResource ToolRailIcon}">
                <Setter Property="IconVariant" Value="Filled"/>
            </Style>

            <!-- ═══════════════════════════════════════════════════════════ -->
            <!-- MERGED DICTIONARIES -->
            <!-- ═══════════════════════════════════════════════════════════ -->

            <ResourceDictionary.MergedDictionaries>
                <XamlControlsResources xmlns="using:Microsoft.UI.Xaml.Controls"/>
            </ResourceDictionary.MergedDictionaries>

        </ResourceDictionary>
    </Application.Resources>
</Application>