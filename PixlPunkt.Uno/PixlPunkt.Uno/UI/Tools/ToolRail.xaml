<!--
═══════════════════════════════════════════════════════════════════════════════
  TOOL RAIL - Tool Selection Sidebar
═══════════════════════════════════════════════════════════════════════════════
  Vertical toolbar with quick color swatches and dynamically generated tool buttons.
  
  Features:
    • Quick FG/BG color swatches with swap/reset
    • Dynamic tool button generation organized by category
    • Tool activation via click or keyboard shortcuts
    • Visual feedback for active tool selection
    • Scrollable for future tool expansion
    
  Architecture:
    • Tools are dynamically generated from ToolRegistry
    • Each tool provides its own Icon, DisplayName, and Shortcut
    • Tools are grouped by category: Utility, Selection, Brush, Shape
═══════════════════════════════════════════════════════════════════════════════
-->
<UserControl
    x:Class="PixlPunkt.Uno.UI.Tools.ToolRail"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:pal="using:PixlPunkt.Uno.UI.Palette"
    xmlns:ctk="using:CommunityToolkit.WinUI.Controls"
    xmlns:ic="using:FluentIcons.WinUI">

    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <!-- RESOURCES -->
    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <UserControl.Resources>

        <!-- Rail Tool Button: Toggle button style for tool selection -->
        <Style x:Key="RailToolButton" TargetType="ToggleButton">
            <Setter Property="Height" Value="32"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="0"/>
            <!--<Setter Property="Background" Value="{ThemeResource CardBackgroundFillColorDefaultBrush}" />
            <Setter Property ="BorderBrush" Value="{ThemeResource CardStrokeColorDefaultBrush}" />-->
        </Style>

       <!-- Category Label Style -->
        <Style x:Key="CategoryLabel" TargetType="TextBlock">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Opacity" Value="0.6"/>
            <Setter Property="Margin" Value="2,0,0,4"/>
        </Style>

        <!-- Category Divider -->
        <Style x:Key="CategoryDivider" TargetType="Border">
            <Setter Property="Height" Value="1"/>
            <Setter Property="Margin" Value="0,8,0,4"/>
            <Setter Property="Background" Value="{ThemeResource DividerStrokeColorDefaultBrush}"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>

    </UserControl.Resources>

    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <!-- MAIN CONTAINER -->
    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel 
                Padding="10" 
                Spacing="8" 
                HorizontalAlignment="Stretch">

                <!-- ═══════════════════════════════════════════════════════ -->
                <!-- COLOR SWATCHES SECTION -->
                <!-- Quick FG/BG color selector with swap & reset -->
                <!-- ═══════════════════════════════════════════════════════ -->
                <Border 
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="8">
                    <pal:QuickSwatches 
                        x:Name="Quick"
                        Service="{Binding Service, Mode=OneWay}"
                        HorizontalAlignment="Stretch"/>
                </Border>

                <!-- ═══════════════════════════════════════════════════════ -->
                <!-- TOOLS CONTAINER -->
                <!-- Dynamically populated with categorized tool sections -->
                <!-- ═══════════════════════════════════════════════════════ -->
                <StackPanel x:Name="ToolContainer" Spacing="0" />

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
