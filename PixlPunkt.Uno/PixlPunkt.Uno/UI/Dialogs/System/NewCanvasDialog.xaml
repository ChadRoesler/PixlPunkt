<ContentDialog
    x:Class="PixlPunkt.Uno.UI.Dialogs.NewCanvasDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="New Canvas"
    PrimaryButtonText="Create"
    CloseButtonText="Cancel"
    DefaultButton="Primary">

    <StackPanel Spacing="12" MinWidth="320">
        <TextBox x:Name="CanvasName" Header="Canvas Name" PlaceholderText="Canvas"/>
        
        <!-- Combined Templates (built-in + custom) -->
        <ComboBox x:Name="TemplateType"
                  Header="Templates"
                  Opacity=".8"
                  ItemsSource="{Binding Templates}"
                  DisplayMemberPath="Name"
                  SelectedItem="{Binding SelectedTemplate, Mode=TwoWay}"
                  SelectionChanged="TemplateType_SelectionChanged"
                  HorizontalAlignment="Stretch"/>
        
        <TextBlock Text="Tile Size (px)" FontWeight="SemiBold"/>
        <StackPanel Orientation="Horizontal" Spacing="8">
            <NumberBox x:Name="TileW" Minimum="1" Value="16" Width="100" SpinButtonPlacementMode="Hidden" />
            <TextBlock Text="×" VerticalAlignment="Center"/>
            <NumberBox x:Name="TileH" Minimum="1" Value="16" Width="100" SpinButtonPlacementMode="Hidden" />
        </StackPanel>

        <TextBlock Text="Canvas Size (tiles)" FontWeight="SemiBold" Margin="0,8,0,0"/>
        <StackPanel Orientation="Horizontal" Spacing="8">
            <NumberBox x:Name="TilesX" Minimum="1" Value="8" Width="100" SpinButtonPlacementMode="Hidden" />
            <TextBlock Text="×" VerticalAlignment="Center"/>
            <NumberBox x:Name="TilesY" Minimum="1" Value="8" Width="100" SpinButtonPlacementMode="Hidden" />
        </StackPanel>
        
        <!-- Save as Template section -->
        <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,8,0,0">
            <Button x:Name="SaveTemplateBtn"
                    Content="Save as Template" 
                    Click="SaveAsTemplate_Click"/>
            <TextBlock Text="(uses canvas name)" 
                       Opacity="0.6" 
                       VerticalAlignment="Center"
                       FontSize="11"/>
        </StackPanel>
    </StackPanel>
</ContentDialog>