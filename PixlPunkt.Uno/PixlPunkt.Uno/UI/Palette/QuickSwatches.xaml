<!--
═══════════════════════════════════════════════════════════════════════════════
  QUICK SWATCHES - Foreground/Background Color Selector
═══════════════════════════════════════════════════════════════════════════════
  Interactive FG/BG color display with quick swap and reset functionality.
  
  Features:
    • Overlapped swatch display (FG top-left, BG bottom-right)
    • Tap: Open color picker for selected swatch
    • Double-tap: Quick access to picker
    • Right-click: Context menu with swap, add to palette options
    • Swap button: Exchange FG ↔ BG colors (Keyboard: X)
    • Default button: Reset to black FG / white BG
═══════════════════════════════════════════════════════════════════════════════
-->
<UserControl
    x:Class="PixlPunkt.Uno.UI.Palette.QuickSwatches"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ic="using:FluentIcons.WinUI">

    <StackPanel Spacing="10">

        <!-- ═══════════════════════════════════════════════════════════════ -->
        <!-- HEADER -->
        <!-- ═══════════════════════════════════════════════════════════════ -->

        <!-- ═══════════════════════════════════════════════════════════════ -->
        <!-- SWATCH DISPLAY -->
        <!-- Overlapped FG/BG swatches (64x64 container) -->
        <!-- ═══════════════════════════════════════════════════════════════ -->
        <Grid 
            Width="64" 
            Height="64">

            <!-- Background Swatch (Bottom-right) -->
            <Border 
                x:Name="BgSwatch"
                Width="40" 
                Height="40"
                CornerRadius="6"
                BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}" 
                BorderThickness="1"
                HorizontalAlignment="Right" 
                VerticalAlignment="Bottom"
                Background="Black"
                Tapped="BgSwatch_Tapped"
                DoubleTapped="BgSwatch_DoubleTapped">

                <!-- Background Swatch Context Menu -->
                <Border.ContextFlyout>
                    <MenuFlyout>
                        <MenuFlyoutItem 
                            Text="Pick…" 
                            Click="BgPick_Click"/>
                        <MenuFlyoutItem 
                            Text="Set as Foreground" 
                            Click="BgSetAsFg_Click"/>
                        <MenuFlyoutSeparator/>
                        <MenuFlyoutItem 
                            Text="Add color to Palette" 
                            Click="BgAddToPalette_Click"/>
                    </MenuFlyout>
                </Border.ContextFlyout>
            </Border>

            <!-- Foreground Swatch (Top-left, overlays BG) -->
            <Border 
                x:Name="FgSwatch"
                Width="40" 
                Height="40"
                CornerRadius="6"
                BorderBrush="{ThemeResource TextFillColorPrimaryBrush}" 
                BorderThickness="1"
                HorizontalAlignment="Left" 
                VerticalAlignment="Top"
                Background="White"
                Tapped="FgSwatch_Tapped"
                DoubleTapped="FgSwatch_DoubleTapped">

                <!-- Foreground Swatch Context Menu -->
                <Border.ContextFlyout>
                    <MenuFlyout>
                        <MenuFlyoutItem 
                            Text="Pick…" 
                            Click="FgPick_Click"/>
                        <MenuFlyoutItem 
                            Text="Set as Background" 
                            Click="FgSetAsBg_Click"/>
                        <MenuFlyoutSeparator/>
                        <MenuFlyoutItem 
                            Text="Add color to Palette" 
                            Click="FgAddToPalette_Click"/>
                    </MenuFlyout>
                </Border.ContextFlyout>
            </Border>
        </Grid>

        <!-- ═══════════════════════════════════════════════════════════════ -->
        <!-- ACTION BUTTONS -->
        <!-- Swap colors & reset to defaults -->
        <!-- ═══════════════════════════════════════════════════════════════ -->
        <Grid ColumnSpacing="8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Swap FG ↔ BG Button (Keyboard: X) -->
            <Button 
                Grid.Column="0"
                Padding="0"
                Height="32"
                Click="Swap_Click" 
                HorizontalAlignment="Stretch"
                ToolTipService.ToolTip="Swap (X)">
                <ic:FluentIcon Icon="WindowMultipleSwap" />
            </Button>

            <!-- Reset to Defaults Button (Black FG / White BG) -->
            <Button 
                Grid.Column="1"
                Height="32"
                Padding="0"
                HorizontalAlignment="Stretch"
                Click="Default_Click" 
                ToolTipService.ToolTip="Default: FG black / BG white">
                <ic:FluentIcon Icon="SquareShadow"/>
            </Button>
        </Grid>

    </StackPanel>

</UserControl>